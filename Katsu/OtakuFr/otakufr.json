{"moduleName":"OtakuFR","moduleInitials":"OFR","moduleDesc":"Module Katsu pour Otaku","developer":"ナビル","moduleID":"20","moduleImage":"https://i.postimg.cc/2j9g6m8d/otakufr.png","moduleVersion":"1.1","moduleLenguage":"FR","moduleHasVideos":"true","randomizeUserAgent":"false","baseURL":"https://otakufr.co/","mainPageLeftTitle":"Derniers épisodes","mainPageRightTitle":"Derniers ajouts","blackListed":[""],"mainPage":[{"request":"https://otakufr.co/","method":"get","headers":[{"key":"","value":""}],"extraInfo":[{"value":""}],"loadJavascript":"false","javaScript":"function Header(key, value){ this.key = key; this.value = value}function ExtraInfo(value){ this.value = value}function Output(lastEpisodes, lastAnimes){ this.lastEpisodes = lastEpisodes; this.lastAnimes = lastAnimes}function LastAnimes(moduleID, image, link, title){ this.moduleID = moduleID; this.image = image; this.link = link; this.title = title}function LastEpisodes(moduleID, image, link, title, episode){ this.moduleID = moduleID; this.image = image; this.link = link; this.title = title; this.episode = episode}function MainPageObject(request, headers, method, extraInfo, loadJavascript, javaScript, output){ this.request = request; this.headers = headers; this.method = method; this.extraInfo = extraInfo; this.loadJavascript = loadJavascript; this.javaScript = javaScript; this.output = output}var savedData = document.getElementById('katsu-final-data');var parsedJson = JSON.parse(savedData.innerHTML);var moduleID = '20';var headers = [new Header('', '')];var extraInfo = [new ExtraInfo('')];var mainPageObject;var output;var lastAnimes = [];var lastEpisodes = [];var episodes = document.querySelectorAll('.col-md-8.order-1 .episode');for (var x = 0; x < episodes.length; x++){ var episode = episodes[x]; var title = episode.querySelector('figure img').title; var image = episode.querySelector('figure > a > img').src; var ep = title.match(/[0-9]+.+./gm)[0]; title = title.replace(ep, ''); var link = episode.querySelector('a').href; var episodeObject = new LastEpisodes(moduleID, image, link, title, ep); lastEpisodes.push(episodeObject)}var animes = document.querySelectorAll('.list-group .list-group-item.list-group-item-action');for (var x = 0; x < animes.length; x++){ var anime = animes[x]; var title = anime.querySelector('figure img').title; var image = anime.querySelector('figure > img').src;; var link = anime.href; var animeObject = new LastAnimes(moduleID, image, link, title); lastAnimes.push(animeObject)}while (lastEpisodes.length % 2 != 0){ lastEpisodes.push(lastEpisodes[0])}while (lastAnimes.length % 3 != 0){ lastAnimes.push(lastAnimes[0])}output = new Output(lastEpisodes, lastAnimes);mainPageObject = new MainPageObject('', headers, '', extraInfo, '', '', output);var finalJson = JSON.stringify(mainPageObject);savedData.innerHTML = finalJson;","output":{"lastEpisodes":[{"moduleID":"0","image":"","link":"","title":"","episode":""}],"lastAnimes":[{"moduleID":"0","image":"","link":"","title":""}]}}],"search":[{"request":"https://otakufr.co/toute-la-liste-affiches/page/<page>/?q=<searched>","method":"get","headers":[{"key":"","value":""}],"separator":"+","extraInfo":[{"value":""}],"loadJavascript":"false","javaScript":"function Header(key, value){this.key = key;this.value = value;} function ExtraInfo(value){ this.value = value;} function Output(moduleID, image, link, title, type, voice, stars){ this.moduleID = moduleID; this.image = image; this.link = link; this.title = title; this.type = type; this.voice = voice; this.stars = stars;} function SearchObject(request, method, headers, separator, extraInfo, loadJavascript, javaScript, output){ this.request = request; this.method = method; this.headers = headers; this.separator = separator; this.extraInfo = extraInfo; this.loadJavascript = loadJavascript; this.javaScript = javaScript; this.output = output;} var savedData = document.getElementById('katsu-final-data'); var parsedJson = JSON.parse(savedData.innerHTML); var moduleID = '20'; var headers = [new Header('', '')]; var extraInfo = [new ExtraInfo('')]; var searchPageObject; var output = []; var searchElements = document.querySelectorAll('div.col-md-8.order-1 > div > article'); for(var x = 0; x < searchElements.length; x++){ var element = searchElements[x]; var cover = element.querySelector('img').src; var link = element.querySelector('div.action a').href; var title = element.querySelector('img').title; if(title.includes('VF')){ var type = 'VF';} else{ var type = 'VOSTFR';}; var voice = ''; var stars = ''; var searchObj = new Output(moduleID, cover, link, title, type, voice, stars); output.push(searchObj);} searchPageObject = new SearchObject('', '', headers, '+', extraInfo, '', '', output); var finalJson = JSON.stringify(searchPageObject); savedData.innerHTML = finalJson;","output":[{"moduleID":"0","image":"","link":"","title":"","type":"","voice":"","stars":""}]}],"info":[{"request":"this Can be empty","method":"get","headers":[{"key":"","value":""}],"extraInfo":[{"value":""}],"loadJavascript":"false","javaScript":"function Header(key, value){ this.key = key; this.value = value}function ExtraInfo(value){ this.value = value}function Output(moduleID, image, link, title, description, genres, type, status, episodes){ this.moduleID = moduleID; this.image = image; this.link = link; this.title = title; this.description = description; this.genres = genres; this.type = type; this.status = status; this.episodes = episodes}function Episodes(link, moduleID, isDecodable){ this.link = link; this.moduleID = moduleID; this.isDecodable = isDecodable}function InfoObject(request, method, headers, extraInfo, loadJavascript, javaScript, output){ this.request = request; this.method = method; this.headers = headers; this.extraInfo = extraInfo; this.loadJavascript = loadJavascript; this.javaScript = javaScript; this.output = output}var savedData = document.getElementById('katsu-final-data');var parsedJson = JSON.parse(savedData.innerHTML);var moduleID = '20';var headers = [new Header('', '')];var extraInfo = [new ExtraInfo('')];var infoObject;var output;var episodes = [];var type = 'empty';var status = 'Unknown';var otherinfos = document.querySelectorAll('.list-unstyled li');for (var i = 0; i < otherinfos.length; i++){ let data = otherinfos[i].innerText; if (data.includes('Type:')){ type = data.replace('Type:', '').trim();} else if (data.includes('Statut:')){ status = data.replace('Statut:', '').trim();}}var genres = [];var desc = '';var image = '';var title = '';var genres = Array.from(document.querySelectorAll('ul > li:nth-child(5) > ul li a')).map(g => g.textContent.trim());var synopsysdiv = document.querySelectorAll('.episode.fz-sm.synop p');for (var x = 1; x < synopsysdiv.length; x++){ desc = desc + synopsysdiv[x].innerText}var descdiv = document.querySelector('div.depion');if (descdiv){ desc = descdiv.innerText}var image = document.querySelector('figure > img').src;var title = document.querySelector('figure > img').title;var chapters = document.querySelectorAll('div.float-right > a');for (var i = chapters.length - 1; i >= 0; i--){ var element = chapters[i]; var link = element.href; var epsObj = new Episodes(link, moduleID, 'false'); episodes.push(epsObj)}output = new Output(moduleID, image, parsedJson.request, title, desc, genres, type, status, episodes);infoObject = new InfoObject('', 'get', headers, extraInfo, '', '', output);var finalJson = JSON.stringify(infoObject);savedData.innerHTML = finalJson;","output":{"moduleID":"0","image":"","link":"","title":"","description":"","genres":[""],"type":"","status":"","episodes":[{"link":"","moduleID":"","isDecodable":"false"}]}}],"episodes":[{"request":"This can be Empty","method":"get","headers":[{"key":"","value":""}],"extraInfo":[{"value":""}],"loadJavascript":"false","javaScript":"function Header(key, value){ this.key = key; this.value = value;} function ExtraInfo(value){ this.value = value;} function Output(link, linkIdentifier, moduleID, isDecodable, headers){ this.link = link; this.linkIdentifier = linkIdentifier; this.moduleID = moduleID; this.isDecodable = isDecodable; this.headers = headers;} function EpisodeObject(request, method, headers, extraInfo, loadJavascript, javaScript, output){ this.request = request; this.method = method; this.headers = headers; this.extraInfo = extraInfo; this.loadJavascript = loadJavascript; this.javaScript = javaScript; this.output = output;} var savedData = document.getElementById('katsu-final-data'); var parsedJson = JSON.parse(savedData.innerHTML); var moduleID = '20'; var headers = [new Header('X-Requested-With', 'XMLHttpRequest')]; var episodeObject; var output = []; var nextRequest = ''; var extraInfo = [new ExtraInfo('1')]; var links = document.querySelectorAll('iframe'); for (var x = 0; x < links.length; x++){ var link = links[x].src; if (link.includes('https:')){ output.push(new Output(link, '', moduleID, 'false', headers))}} var count = 1; for (var y = 0; y < links.length; y++){ var link = links[y]; if (link.src.includes('parisanime.com')){ var url = 'https:' + link.src; if (x == 0){ nextRequest = url;} else{ extraInfo.push(new ExtraInfo(`${url}`)); count++;} console.log(url);}} if (extraInfo.length >= 2){ nextRequest = extraInfo[1].value;} episodeObject = new EpisodeObject(nextRequest, 'get', headers, extraInfo, '', '', output); var finalJson = JSON.stringify(episodeObject); savedData.innerHTML = finalJson;","output":[{"link":"","moduleID":"","linkIdentifier":"","isDecodable":"false","headers":[{"key":"key","value":"value"}]}]},{"request":"This can be Empty","method":"get","headers":[{"key":"","value":""}],"extraInfo":[{"value":""}],"loadJavascript":"false","javaScript":"function Header(key, value){ this.key = key; this.value = value;} function ExtraInfo(value){ this.value = value;} function Output(link, linkIdentifier, moduleID, isDecodable, headers){ this.link = link; this.linkIdentifier = linkIdentifier; this.moduleID = moduleID; this.isDecodable = isDecodable; this.headers = headers;} function EpisodeObject(request, method, headers, extraInfo, loadJavascript, javaScript, output){ this.request = request; this.method = method; this.headers = headers; this.extraInfo = extraInfo; this.loadJavascript = loadJavascript; this.javaScript = javaScript; this.output = output;} var savedData = document.getElementById('katsu-final-data'); var parsedJson = JSON.parse(savedData.innerHTML); var moduleID = '20'; var headers = [new Header('X-Requested-With', 'XMLHttpRequest')]; var episodeObject; var output = parsedJson.output; var extraInfo = parsedJson.extraInfo; var actualCount = extraInfo[0].value; var nextCount = parseInt(extraInfo[0].value) + 1; const script = document.querySelector('script').innerHTML.replace('//', ''); var parser = new DOMParser(); var doc = parser.parseFromString(script, 'text/html'); var videoLink = doc.querySelector('.ui.embed').getAttribute('data-url'); if (!videoLink.includes('https')){ output.push(new Output('https:' + link, '', moduleID, 'false', headers));} else{ output.push(new Output(videoLink, '', moduleID, 'false', headers));} try{ var nextRequest = extraInfo[nextCount].value;} catch (e){ var nextRequest = '';} extraInfo[0].value = '' + (parseInt(nextCount)); episodeObject = new EpisodeObject(nextRequest, 'get', headers, extraInfo, '', '', output); var finalJson = JSON.stringify(episodeObject); savedData.innerHTML = finalJson;","output":[{"link":"","moduleID":"","linkIdentifier":"","isDecodable":"false","headers":[{"key":"key","value":"value"}]}]}]} 